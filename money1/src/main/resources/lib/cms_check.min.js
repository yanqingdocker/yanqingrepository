function checkIsNum(inputObj, tipObj, nullTF) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = $(_inputObj).val(); if (jQuery.trim(inputval) == "") { if (nullTF != 0) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("此项必须填入[0-9.]数字格试！"); return false } else { $(_tipObj).html(""); return true } } else if (inputval.match(/^([0-9.]+)$/)) { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("此项必须填入[0-9.]数字格试！"); return false } } function IsIntNum(inputObj, tipObj, nullTF) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = $(_inputObj).val(); if (jQuery.trim(inputval) == "") { if (nullTF != 1) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("此项必须填入[0-9]数字格试！"); return false } else { $(_tipObj).html(""); return true } } else if (inputval.match(/^([0-9]+)$/)) { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("此项必须填入[0-9]数字格试！"); return false } } function IsCintNum(inputObj, tipObj, nullTF) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = $(_inputObj).val(); if (jQuery.trim(inputval) == "") { if (nullTF != 0) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("此项必须填入[0-9.]数字格试！"); return false } else { $(_tipObj).html(""); return true } } else if (inputval.match(/^([0-9]+)$/)) { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("此项必须填入[0-9.]数字格试！"); return false } } function checkComTxt(inputObj, tipObj, minnum, maxnum, remark) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = jQuery.trim($(_inputObj).val()); var remark1 = ""; var remark2 = ""; if (minnum > 0) { remark1 = "不能少于" + minnum + "个字" } if (maxnum > 0) { remark2 = "不能多于" + maxnum + "个字" } if (inputval.length < minnum && minnum > 0) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("" + remark + remark1); return false } else if (inputval.length > maxnum && maxnum > 0) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("" + remark + remark2); return false } else { $(_tipObj).attr("class", "hint check_ok"); if (minnum == 0) { $(_tipObj).html("") } else { $(_tipObj).html("正确") } return true } } function checkLetter(inputObj, tipObj, minnum, maxnum) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = $(_inputObj).val(); if (inputval != null && inputval.length != '' && inputval.match(/^([a-zA-Z])+$/)) { if (inputval.length < minnum && minnum > 0) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("所填写字母不能少于" + minnum + "个"); return false } else if (inputval.length > maxnum && maxnum > 0) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("所填写字母不能多于" + maxnum + "个"); return false } else { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("格式错误：只能填写字母组成的内容!"); return false } } function checkTel(inputObj, tipObj, checkType, nullTF) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var remark = ""; switch (checkType) { case '1': remark = "固定/传真"; break; case '2': remark = "手机号码"; break; case '3': remark = "联系方式"; break; default: remark = ""; break } var inputval = jQuery.trim($(_inputObj).val()); if (inputval == "" && nullTF == 1) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("此项不能为空，请您填写" + remark + "！"); return false } else if (inputval == "" && nullTF == 0) { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html(""); return true } else if (inputval.match(/^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$/) && (checkType == "1" || checkType == "3")) { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } else if (inputval.match(/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/) && (checkType == "2" || checkType == "3")) { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("您填写的" + remark + "格式有错,请您按照规定的格式如：固话：区号-号码-分机号.手机11位格式。"); return false } } function checkEmail(inputObj, tipObj, checkType, isUpdate) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var postUrl = "/lib"; var dataStr = ""; if (isUpdate == "1") { if (checkType == "user") { postUrl = "/lib/ajax/User/" + Config.xmlDefaultPage + "?action=checkmail&go=ok" } else { postUrl = "/Lib/bUser/" + Config.xmlDefaultPage + "?action=checkmail&go=ok" } } else { postUrl = "/lib/ajax/user/regedit.ashx?action=checkmail&go=ok"; dataStr = "isupdate=0" } var inputval = $(_inputObj).val(); if (inputval != null && inputval.length > 4 && inputval.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)) { $.post(postUrl + "&r=" + Math.random(), { email: encodeURIComponent(inputval), isupdate: "1" }, function (result) { if (result.success) { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html(result.msg); return true } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html(result.msg); return false } }, "json") } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("请输入有效的Email地址"); $("#Update").attr("disabled", "disabled"); return false } } function checkSelect(inputObj, tipObj, tipstr) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); if ($(_inputObj).val() == '') { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("请您先选择" + tipstr + ",此项不能为空!"); return false } else { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } } function checkTwoDate(startTime, endTime, tipObj) { var _startTime = returnObj(startTime); var _endTime = returnObj(endTime); var _tipObj = returnObj(tipObj); var time1 = jQuery.trim($(_startTime).val()); var time2 = jQuery.trim($(_endTime).val()); if (dateDiff(time1, time2) > 0) { $(_tipObj).html(""); $(_tipObj).attr("class", "hint check_ok"); return true } else { $(_tipObj).html("结束时间必须大于开始时间，请您正确选择！"); $(_tipObj).attr("class", "hint check_warning"); return false } } function checkTime(inputObj, tipObj) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = $(_inputObj).val(); if (jQuery.trim(inputval).length < 2 || jQuery.trim(inputval).length > 25) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("请输正确选择时间"); return false } else { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } } function checkTwotel(telObj1, telObj2, tipObj) { var _telObj1 = returnObj(telObj1); var _telObj2 = returnObj(telObj2); var _tipObj = returnObj(tipObj); var input = $(_telObj1); var input2 = $(_telObj2); if (input.val() != null && jQuery.trim(input.val()).length < 16 && jQuery.trim(input.val()).length > 5) { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } if (input.val() != null && jQuery.trim(input2.val()).length < 16 && jQuery.trim(input2.val()).length > 5) { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } if ((jQuery.trim(input.val()).length > 16 || jQuery.trim(input.val()).length < 5) && (jQuery.trim(input2.val()).length > 16 || jQuery.trim(input2.val()).length < 5)) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("手机和电话必须填一个并请正确填写电话号码"); return false } } function checkPwd(inputObj, tipObj) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = jQuery.trim($(_inputObj).val()); if (inputval.length < 6 || inputval.length > 20) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("密码不能空，或不能少于6位或大于20位"); return false } else { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } } function checkTwoPwd(pswObj1, pswObj2, tipObj) { var _pswObj1 = returnObj(pswObj1); var _pswObj2 = returnObj(pswObj2); var _tipObj = returnObj(tipObj); var input1 = jQuery.trim($(_pswObj1).val()); if (input1.length < 6 || input1.length > 20) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("密码请使用6-16个字符"); return false } var input2 = jQuery.trim($(_pswObj2).val()); if (input2.length > 0) { if (input1 != input2) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("两次密码输入不相同"); return false } else { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确") } } return true } function checkTag(inputObj, tipObj, tagNum, splitWord, nullTF, maxNum) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = jQuery.trim($(_inputObj).val()); if (splitWord == "" || splitWord != "undefinded") { splitWord = "," } if (inputval != '') { var arrTag = inputval.split(splitWord); if (inputval.length > maxNum) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("标签字数过多，总数字不能超过" + maxNum + "个！"); return false } else if (arrTag.length > tagNum) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("标签个数最多不能超过" + tagNum + "个！"); return false } else { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html(""); return true } } else { if (nullTF == 0) { } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("标签不能为空！"); $(_tipObj).attr("class", "hint"); $(_tipObj).html(""); return false } } } function checkRandCode(inputObj, tipObj) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = $(_inputObj).val(); if (jQuery.trim(inputval).length < 1) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("验证码不能空"); return false } else { $(_tipObj).attr("class", "hint"); $(_tipObj).html("如无法看清，请点击图片重新获取"); return true } } function checkIdcard(idcard) { var Errors = new Array("验证通过!", "身份证号码位数不对!", "身份证号码出生日期超出范围或含有非法字符!", "身份证号码校验错误!", "身份证地区非法!"); var area = { 11: "北京", 12: "天津", 13: "河北", 14: "山西", 15: "内蒙古", 21: "辽宁", 22: "吉林", 23: "黑龙江", 31: "上海", 32: "江苏", 33: "浙江", 34: "安徽", 35: "福建", 36: "江西", 37: "山东", 41: "河南", 42: "湖北", 43: "湖南", 44: "广东", 45: "广西", 46: "海南", 50: "重庆", 51: "四川", 52: "贵州", 53: "云南", 54: "西藏", 61: "陕西", 62: "甘肃", 63: "青海", 64: "宁夏", 65: "新疆", 71: "台湾", 81: "香港", 82: "澳门", 91: "国外" }; var idcard, Y, JYM; var S, M; var idcard_array = new Array(); idcard_array = idcard.split(""); if (area[parseInt(idcard.substr(0, 2))] == null) return Errors[4]; switch (idcard.length) { case 15: if ((parseInt(idcard.substr(6, 2)) + 1900) % 4 == 0 || ((parseInt(idcard.substr(6, 2)) + 1900) % 100 == 0 && (parseInt(idcard.substr(6, 2)) + 1900) % 4 == 0)) { ereg = /^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/ } else { ereg = /^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/ } if (ereg.test(idcard)) { return Errors[0] } else { return Errors[2] } break; case 18: if (parseInt(idcard.substr(6, 4)) % 4 == 0 || (parseInt(idcard.substr(6, 4)) % 100 == 0 && parseInt(idcard.substr(6, 4)) % 4 == 0)) { ereg = /^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/ } else { ereg = /^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/ } if (ereg.test(idcard)) { S = (parseInt(idcard_array[0]) + parseInt(idcard_array[10])) * 7 + (parseInt(idcard_array[1]) + parseInt(idcard_array[11])) * 9 + (parseInt(idcard_array[2]) + parseInt(idcard_array[12])) * 10 + (parseInt(idcard_array[3]) + parseInt(idcard_array[13])) * 5 + (parseInt(idcard_array[4]) + parseInt(idcard_array[14])) * 8 + (parseInt(idcard_array[5]) + parseInt(idcard_array[15])) * 4 + (parseInt(idcard_array[6]) + parseInt(idcard_array[16])) * 2 + parseInt(idcard_array[7]) * 1 + parseInt(idcard_array[8]) * 6 + parseInt(idcard_array[9]) * 3; Y = S % 11; M = "F"; JYM = "10X98765432"; M = JYM.substr(Y, 1); if (M == idcard_array[17]) { return Errors[0] } else { return Errors[3] } } else { return Errors[2] } break; default: return Errors[1]; break } } function isEmail(inputObj, tipObj) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = $(_inputObj).val(); if (inputval != null && inputval.length > 4 && inputval.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)) { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("邮箱不能为空且须符合邮箱格式！"); return false } } function IsValidDate(DateStr) { var sDate = DateStr.replace(/(^\s+|\s+$)/g, ''); if (sDate == '') { return true } var s = sDate.replace(/[\d]{4,4}[\-/]{1}[\d]{1,2}[\-/]{1}[\d]{1,2}/g, ''); if (s == '') { var t = new Date(sDate.replace(/\-/g, '/')); var ar = sDate.split(/[-/:]/); if (ar[0] != t.getFullYear() || ar[1] != t.getMonth() + 1 || ar[2] != t.getDate()) { return false } } else { return false } return true } function checkSafeUser(inputObj, tipObj) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = $(_inputObj).val(); if (inputval.match(/^([a-zA-Z]|([a-zA-Z0-9]|(-)|(_)){3,19})$/)) { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("请您输入4-20位用户名，并只能包含英文字母开头，数字,下滑线“_”和横杠“-”,且只能以字母开头！。"); return false } } function checkSafePwd(inputObj, tipObj) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = $(_inputObj).val(); if (inputval.match(/^[a-zA-Z0-9_\-]{6,20}$/)) { if (inputval.match(/^([0-9.]+)$/)) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("请输入6-20位字母成数字结合的密码。"); return false } else if (inputval.match(/^([a-zA-Z_\-]+)$/)) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("请输入6-20位字母成数字结合的密码。"); return false } else { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("请输入6-15位字母成数字结合的密码。"); return false } } function checkSafeStr(inputObj, tipObj) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var inputval = $(_inputObj).val(); if (inputval.match(/^([a-zA-Z0-9]([a-zA-Z0-9]|(-)|(_)){1,})$/)) { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("正确"); return true } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("请您输入只能包含英文字母开头，数字,下滑线“_”和横杠“-”,且只能以字母开头！。"); return false } } function checkUserName(inputObj, tipObj) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var input = $(_inputObj).val(); if (input == null || jQuery.trim(input) == "") { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("用户名不能为空"); return false } if (input.indexOf("@") != -1) { if (input.length > 4 && input.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)) { $(_tipObj).attr("class", "hint"); $(_tipObj).html("该帐号为个人用户"); return true } else { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("您输入的用户名格式不符号！如果您是个人员员请输入您的E-MAIL；如果您是企业会员请输正常用户名（非邮箱）。") } } else { if (jQuery.trim(input).length < 4 || jQuery.trim(input).length > 20) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("对不起,您的企业会员号格式不正确"); return false } else { $(_tipObj).attr("class", "hint check_ok"); $(_tipObj).html("该帐号为企业用户"); return true } } } function getUserType(inputObj, tipObj) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var tempstr = "0"; var input = $(_inputObj).val(); if (input == null || jQuery.trim(input) == "") { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("用户名不能为空"); return false } if (input.length > 4 && input.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)) { tempstr = "2" } else { $("#save").hide(); tempstr = "3" } return tempstr } function checkPasswords(inputObj, tipObj) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var input = $(_inputObj).val(); if (input.length < 6 || input.length > 16) { $(_tipObj).attr("class", "hint check_warning"); $(_tipObj).html("密码请使用6-16个字符"); return false } else { $(_tipObj).attr("class", "hint check_ok"); return true } } function isChinese(str) { var badChar = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"; badChar += "abcdefghijklmnopqrstuvwxyz"; badChar += "0123456789"; badChar += " 　"; badChar += "`~!@#$%^&()-_=+]\\|:;\"\\'<,>?/"; if ("" == str) { return false } for (var i = 0; i < badChar.length; i++) { var c = str.charAt(badChar[i]); if (badChar.indexOf(c) > -1) { return false } } return true } function checkAgree(inputObj, tipObj) { var _inputObj = returnObj(inputObj); var _tipObj = returnObj(tipObj); var input = $(_inputObj); if (input.attr("checked") == true) { $(_tipObj).attr("class", "hint warning"); $(_tipObj).html(failpic + "&nbsp;&nbsp;请阅读和同意协议"); return false } else { $(_tipObj).attr("class", "hint"); $(_tipObj).html("") } return true } function matchPattern() { } function searchPattern() { } function replacePattern() { } function testPattern() { } function execPattern() { }